<!-- Basic Item Info -->
<div class="space-y-6">
  <!-- Item Name -->
  <div>
    <label for="title" class="block text-sm font-medium text-gray-700 mb-1">
      {{ _('Item Name') }}
    </label>
    <input type="text" id="title" name="title"
           value="{{ item['title'] if item else '' }}"
           required
           class="w-full rounded-lg border-gray-300 shadow-sm focus:ring-green-500 focus:border-green-500">
  </div>

  <!-- Description -->
  <div>
    <label for="description" class="block text-sm font-medium text-gray-700 mb-1">
      {{ _('Description') }}
    </label>
    <textarea id="description" name="description" rows="4"
              class="w-full rounded-lg border-gray-300 shadow-sm focus:ring-green-500 focus:border-green-500">{{ item['description'] if item else '' }}</textarea>
  </div>

  <!-- Price + Stock -->
  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
    <div>
      <label for="price" class="block text-sm font-medium text-gray-700 mb-1">
        {{ _('Price (€)') }}
      </label>
      <input type="number" id="price" name="price" step="0.01"
             value="{{ item['price'] if item else '' }}"
             required
             class="w-full rounded-lg border-gray-300 shadow-sm focus:ring-green-500 focus:border-green-500">
    </div>

    <div>
      <label for="stock" class="block text-sm font-medium text-gray-700 mb-1">
        {{ _('Stock Quantity') }}
      </label>
      <input type="number" id="stock" name="stock"
             value="{{ item['stock'] if item else 0 }}"
             required
             class="w-full rounded-lg border-gray-300 shadow-sm focus:ring-green-500 focus:border-green-500">
    </div>
  </div>

  <!-- Available -->
  <div class="flex items-center mt-4">
    <input type="checkbox" id="available" name="available"
           class="h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"
           {% if item and item['available'] %}checked{% endif %}>
    <label for="available" class="ml-2 block text-sm text-gray-700">
      {{ _('Available') }}
    </label>
  </div>

  <!-- Category -->
  <div>
    <label for="category" class="block text-sm font-medium text-gray-700 mb-1">
      {{ _('Category') }}
    </label>
    <select name="category_select">
      <option value="">-- Choose Category --</option>
      {% for c in categories %}
        <option value="{{ c }}">{{ c }}</option>
      {% endfor %}
    </select>

    <input type="text" name="category_new" placeholder="Or enter new category">


  </div>
</div>

<hr class="my-8 border-gray-300">

<!-- Images -->
<div>
  <label class="block text-gray-700 font-medium mb-2">Images</label>

  <!-- Upload Drop Area -->
  <div id="image-drop-zone"
       class="border-2 border-dashed border-gray-400 rounded-xl p-6 text-center mb-4 bg-gray-50 hover:bg-gray-100 transition cursor-pointer">
    <p class="text-gray-500">Drag & drop images here or click to upload</p>
  </div>

  <input type="file" name="new_images" id="new_images" multiple accept="image/*"
         class="hidden">

  <button type="button"
          onclick="document.getElementById('new_images').click()"
          class="px-4 py-2 bg-blue-600 text-white rounded-lg shadow hover:bg-blue-700 transition">
    Choose Files
  </button>

  <!-- ✅ Hidden inputs (store reorder + main image selection) -->
  <input type="hidden" name="image_order" id="image_order">
  <input type="hidden" name="main_image" id="main_image" value="{{ item.main_image }}">

  <!-- ✅ Single Preview Container -->
  <div id="image-preview-container"
       class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mt-4">
  </div>

</div>

<!-- Hidden fields -->
<input type="hidden" id="main_image" name="main_image" value="{{ item.main_image }}">
<input type="hidden" id="image_order" name="image_order">

